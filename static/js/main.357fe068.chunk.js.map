{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AgreementPopup.js","components/ImagePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js","images/logo.svg","images/edit-icon.svg"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","memo","props","currentUser","useContext","didUserLiked","card","likes","some","x","_id","link","name","data-url","data-alt","onClick","onCardClick","type","onCardLike","length","owner","onDeleteCardClick","Main","onEditAvatarClick","avatar","editAvatarIcon","onEditProfileClick","about","onAddPlaceLink","cards","map","cardInfo","key","PopupWithForm","isOpen","id","onClose","onSubmit","noValidate","title","children","submitAvailable","disabled","submitButtonText","EditProfilePopup","useState","setName","description","setDescription","nameError","setNameError","descriptionError","setDescriptionError","useEffect","e","preventDefault","onUserUpdate","placeholder","minLength","maxLength","pattern","required","value","onChange","target","validity","valid","validationMessage","AgreementPopup","deletedCard","ImagePopup","opened","projectApi","options","this","_baseUrl","baseUrl","_headers","headers","fetch","authorization","then","res","ok","json","Promise","reject","status","method","body","JSON","stringify","newUrl","resolve","cardID","EditAvatarPopup","inputValue","useRef","urlError","setUrlError","current","onAvatarUpdate","ref","AddPlacePopup","placeName","setPlaceName","placeUrl","setPlaceUrl","onAddPlaceSubmit","App","isEditProfilePopupOpen","setProfilePopupOpened","isAddPlacePopupOpen","setPlacePopupOpened","isEditAvatarPopupOpen","setAvatarPopupOpened","isAgreementAvatarOpen","setAgreementPopupOpened","img","selectedCard","setSelectedCard","setCurrentUser","setDeletedCard","setCards","all","getUserInfo","getInitialCards","userInfo","cardsArr","catch","err","console","log","alert","closeAllPopups","classList","contains","replaceCard","newCard","newCards","Provider","deleteLike","putLike","changeUserInfo","newInfo","addCard","deleteCard","filter","changeAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"4PAWeA,MARf,WACE,OACE,4BAAQC,UAAU,UAChB,yBAAKA,UAAU,eAAeC,IAAKC,IAAMC,IAAI,kGCIpCC,MARf,WACE,OACE,4BAAQJ,UAAU,UACd,uBAAGA,UAAU,qBAAb,4B,gBCHKK,EAAqBC,IAAMC,gBC4BzBC,EA3BFF,IAAMG,MAAK,SAACC,GAEvB,IAIMC,EAAcL,IAAMM,WAAWP,GAC/BQ,EAAeH,EAAMI,KAAKC,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAQP,EAAYO,OAEtE,OACE,4BAAQlB,UAAU,QAChB,yBAAKA,UAAU,cAAcC,IAAKS,EAAMI,KAAKK,KAAMhB,IAAKO,EAAMI,KAAKM,OACnE,yBAAKpB,UAAU,oBAAoBqB,WAAUX,EAAMI,KAAKK,KAAMG,WAAUZ,EAAMI,KAAKM,KAAMG,QAVrE,kBAAMb,EAAMc,YAAYd,EAAMI,SAWlD,gCAAYd,UAAU,yBACpB,uBAAGA,UAAU,iBAAiBU,EAAMI,KAAKM,MACzC,yBAAKpB,UAAU,qBACb,4BAAQA,UAAS,2CAAsCa,EACrD,4BAA8B,IAAMY,KAAK,SAASF,QAdtC,kBAAMb,EAAMgB,WAAWhB,EAAMI,SAe3C,0BAAMd,UAAU,uBAAuBU,EAAMI,KAAKC,MAAMY,SAE1D,4BAAQ3B,UAAS,6CAAwCW,EAAYO,MAAQR,EAAMI,KAAKc,MAAMV,IAC5F,GAAK,8BAAgCO,KAAK,SAASF,QAjBlC,kBAAMb,EAAMmB,kBAAkBnB,EAAMI,cC+BhDgB,MAjCf,SAAcpB,GACZ,IAAMC,EAAcL,IAAMM,WAAWP,GAErC,OACE,8BACE,6BAASL,UAAU,WACjB,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,wBAAwBuB,QAASb,EAAMqB,mBACpD,yBAAK/B,UAAU,kBAAkBC,IAAKU,EAAYqB,OAAQ7B,IAAI,kHAC9D,yBAAKH,UAAU,yBACf,yBAAKA,UAAU,qBAAqBC,IAAKgC,IAAgB9B,IAAI,0KAE/D,yBAAKH,UAAU,iBACb,wBAAIA,UAAU,iBAAiBW,EAAYS,MAC3C,4BAAQpB,UAAU,sCAAsCyB,KAAK,SAASF,QAASb,EAAMwB,qBACrF,uBAAGlC,UAAU,wBAAwBW,EAAYwB,SAGrD,4BAAQnC,UAAU,qCAAqCyB,KAAK,SAASF,QAASb,EAAM0B,kBAEtF,6BAASpC,UAAU,WAChBU,EAAM2B,MAAMC,KAAI,SAAAC,GAAQ,OAAI,kBAAC,EAAD,CAC3BC,IAAKD,EAASrB,IACdJ,KAAMyB,EACNf,YAAad,EAAMc,YACnBK,kBAAmBnB,EAAMmB,kBACzBH,WAAYhB,EAAMgB,mBCZbe,MAjBf,SAAuB/B,GACrB,OACE,yBAAKV,UAAWU,EAAMgC,OAAS,qBAAuB,QAASC,GAAE,gBAAWjC,EAAMU,MAAQG,QAASb,EAAMkC,SACvG,0BAAM5C,UAAU,mBAAmB6C,SAAUnC,EAAMmC,SAAUC,YAAU,GACrE,wBAAI9C,UAAU,gBAAgBU,EAAMqC,OACnCrC,EAAMsC,SACP,4BACEhD,UAAS,4CAAuCU,EAAMuC,gBAAkB,GAAK,+BAC7EC,UAAWxC,EAAMuC,gBACjBxB,KAAK,UAAUf,EAAMyC,kBAEvB,4BAAQnD,UAAU,qCAAqCyB,KAAK,SAASF,QAASb,EAAMkC,aCgE7EQ,MAzEf,SAA0B1C,GAAQ,IAAD,EACPJ,IAAM+C,SAAS,IADR,mBACxBjC,EADwB,KAClBkC,EADkB,OAEOhD,IAAM+C,SAAS,IAFtB,mBAExBE,EAFwB,KAEXC,EAFW,OAGGlD,IAAM+C,SAAS,IAHlB,mBAGxBI,EAHwB,KAGbC,EAHa,OAIiBpD,IAAM+C,SAAS,IAJhC,mBAIxBM,EAJwB,KAINC,EAJM,KAKzBjD,EAAcL,IAAMM,WAAWP,GA8BrC,OAPAC,IAAMuD,WAAU,WACdP,EAAQ3C,EAAYS,MACpBoC,EAAe7C,EAAYwB,OAC3BuB,EAAa,IACbE,EAAoB,MACnB,CAACjD,EAAaD,EAAMgC,SAGrB,kBAAC,EAAD,eACEtB,KAAK,UACL2B,MAAM,4HACNI,iBAAiB,yDACjBN,SAjBiB,SAACiB,GACpBA,EAAEC,iBACFrD,EAAMsD,aAAa5C,EAAMmC,IAgBvBN,iBAAiBQ,IAAaE,GAC1BjD,GAEJ,2BACEV,UAAU,oCACV2C,GAAG,aACHlB,KAAK,OACLL,KAAK,eACL6C,YAAY,qBACZC,UAAU,IAAIC,UAAU,KACxBC,QAAQ,wDACRC,UAAQ,EACRC,MAAOlD,GAAQ,GACfmD,SA/CmB,SAACT,GACxBR,EAAQQ,EAAEU,OAAOF,OACZR,EAAEU,OAAOC,SAASC,MAGrBhB,EAAa,IAFbA,EAAaI,EAAEU,OAAOG,sBA8CtB,0BAAM3E,UAAS,uBAAkByD,EAAY,uBAAyB,IAAMd,GAAG,oBAAoBc,GACnG,2BACEzD,UAAU,2CACV2C,GAAG,oBACHlB,KAAK,OACLL,KAAK,sBACL6C,YAAY,kCACZC,UAAU,IAAIC,UAAU,MACxBE,UAAQ,EACRC,MAAOf,GAAe,GACtBgB,SAnD0B,SAACT,GAC/BN,EAAeM,EAAEU,OAAOF,OACnBR,EAAEU,OAAOC,SAASC,MAGrBd,EAAoB,IAFpBA,EAAoBE,EAAEU,OAAOG,sBAkD7B,0BAAM3E,UAAS,uBAAkB2D,EAAmB,uBAAyB,IAAMhB,GAAG,2BAA2BgB,KCpDxGiB,MAlBf,SAAwBlE,GAOtB,OACE,yBAAKV,UAAWU,EAAMgC,OAAS,qBAAuB,QAASC,GAAE,gBAAWjC,EAAMU,MAAQG,QAASb,EAAMkC,SACvG,0BAAM5C,UAAU,mBAAmB6C,SAPlB,SAACiB,GACpBA,EAAEC,iBACFrD,EAAMmC,SAASnC,EAAMmE,cAKwC/B,YAAU,GACnE,wBAAI9C,UAAU,gBAAgBU,EAAMqC,OACpC,4BAAQ/C,UAAU,oCAAoCyB,KAAK,UAAUf,EAAMyC,kBAC3E,4BAAQnD,UAAU,qCAAqCyB,KAAK,SAASF,QAASb,EAAMkC,aCA7EkC,MAZf,SAAoBpE,GAClB,OACE,yBAAKV,UAAWU,EAAMI,KAAKiE,OAAS,qBAAuB,QAASpC,GAAG,cAAcpB,QAASb,EAAMkC,SAClG,4BAAQ5C,UAAU,0BAChB,yBAAKA,UAAU,eAAeC,IAAKS,EAAMI,KAAKb,IAAKE,IAAKO,EAAMI,KAAKX,MACnE,gCAAYH,UAAU,wBAAwBU,EAAMI,KAAKX,KACzD,4BAAQH,UAAU,qCAAqCyB,KAAK,SAASF,QAASb,EAAMkC,a,cC0H7EoC,EARI,I,WAzHjB,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,SAAWJ,EAAQK,Q,0DAIxB,OAAOC,MAAM,GAAD,OAAIL,KAAKC,SAAT,aAA8B,CACxCG,QAAS,CACPE,cAAeN,KAAKG,SAASG,iBAG9BC,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,a,wCAKhC,OAAOR,MAAM,GAAD,OAAIL,KAAKC,SAAT,UAA2B,CACrCG,QAAS,CACPE,cAAeN,KAAKG,SAASG,iBAG9BC,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,a,qCAInB3E,EAAMe,GACnB,OAAOoD,MAAM,GAAD,OAAIL,KAAKC,SAAT,aAA8B,CACxCa,OAAQ,QACRV,QAASJ,KAAKG,SACdY,KAAMC,KAAKC,UAAU,CAAC/E,OAAMe,YAE3BsD,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,a,mCAIrBK,GACX,OAAOb,MAAM,GAAD,OAAIL,KAAKC,SAAT,oBAAqC,CAC/Ca,OAAQ,QACRV,QAASJ,KAAKG,SACdY,KAAMC,KAAKC,UAAU,CAACnE,OAAQoE,MAE7BX,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,a,8BAI1B3E,EAAMD,GACZ,OAAOoE,MAAM,GAAD,OAAIL,KAAKC,SAAT,UAA2B,CACrCa,OAAQ,OACRV,QAASJ,KAAKG,SACdY,KAAMC,KAAKC,UAAU,CAAC/E,OAAMD,WAE3BsE,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,a,iCAIvBpD,GACT,OAAO4C,MAAM,GAAD,OAAIL,KAAKC,SAAT,kBAA2BxC,GAAM,CAC3CqD,OAAQ,SACRV,QAAS,CACPE,cAAeN,KAAKG,SAASG,iBAG9BC,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCE,QAAQQ,UAERR,QAAQC,OAAOJ,EAAIK,a,8BAI1BO,GACN,OAAOf,MAAM,GAAD,OAAIL,KAAKC,SAAT,wBAAiCmB,GAAU,CACrDN,OAAQ,MACRV,QAAS,CACPE,cAAeN,KAAKG,SAASG,iBAG9BC,MAAM,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,a,iCAIvBO,GACT,OAAOf,MAAM,GAAD,OAAIL,KAAKC,SAAT,wBAAiCmB,GAAU,CACrDN,OAAQ,SACRV,QAAS,CACPE,cAAeN,KAAKG,SAASG,iBAG9BC,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,e,KAKjB,CAAQ,CACzBX,QAAS,8CACTE,QAAS,CACPE,cAAe,uCACf,eAAgB,sBC7ELe,MA9Cf,SAAyB7F,GACvB,IAAM8F,EAAalG,IAAMmG,SADK,EAEEnG,IAAM+C,SAAS,sGAFjB,mBAEvBqD,EAFuB,KAEbC,EAFa,KAsB9B,OALArG,IAAMuD,WAAU,WACd8C,EAAY,sGACZH,EAAWI,QAAQtC,MAAQ,KAC1B,CAAC5D,EAAMgC,SAGR,kBAAC,EAAD,eACEtB,KAAK,gBACL2B,MAAM,wFACNI,iBAAiB,yDACjBF,iBAAiByD,EACjB7D,SAxBkB,SAACiB,GACrBA,EAAEC,iBACFrD,EAAMmG,eAAeL,EAAWI,QAAQtC,SAuBlC5D,GAEJ,2BACEV,UAAU,oCACV2C,GAAG,YACHlB,KAAK,MACLL,KAAK,cACL6C,YAAY,yFACZI,UAAQ,EACRyC,IAAKN,EACLjC,SA9Be,SAACT,GACpBA,EAAEC,iBACGD,EAAEU,OAAOC,SAASC,MAGrBiC,EAAY,IAFZA,EAAY7C,EAAEU,OAAOG,sBA6BrB,0BAAM3E,UAAS,uBAAkB0G,EAAW,uBAAyB,IAAM/D,GAAG,mBAAmB+D,KC8BxFK,MAvEf,SAAuBrG,GAAQ,IAAD,EACMJ,IAAM+C,SAAS,IADrB,mBACrB2D,EADqB,KACVC,EADU,OAEI3G,IAAM+C,SAAS,IAFnB,mBAErB6D,EAFqB,KAEXC,EAFW,OAGM7G,IAAM+C,SAAS,IAHrB,mBAGrBI,EAHqB,KAGVC,EAHU,OAIIpD,IAAM+C,SAAS,IAJnB,mBAIrBqD,EAJqB,KAIXC,EAJW,KAkC5B,OAPArG,IAAMuD,WAAU,WACdH,EAAa,sGACbiD,EAAY,sGACZM,EAAa,IACbE,EAAY,MACX,CAACzG,EAAMgC,SAGR,kBAAC,EAAD,CACEtB,KAAK,YACL2B,MAAM,gEACNL,OAAQhC,EAAMgC,OACdE,QAASlC,EAAMkC,QACfO,iBAAiB,6CACjBF,iBAAiBQ,IAAaiD,EAC9B7D,SApCiB,SAACiB,GACpBA,EAAEC,iBACFrD,EAAM0G,iBAAiBJ,EAAWE,KAoChC,2BACElH,UAAU,oCACV2C,GAAG,mBACHlB,KAAK,OACLL,KAAK,aACL6C,YAAY,mDACZC,UAAU,IAAIC,UAAU,KACxBI,SAxCmB,SAACT,GACxBmD,EAAanD,EAAEU,OAAOF,OACjBR,EAAEU,OAAOC,SAASC,MAGrBhB,EAAa,IAFbA,EAAaI,EAAEU,OAAOG,oBAsCpBL,MAAO0C,GAAa,GACpB3C,UAAQ,IAEV,0BAAMrE,UAAS,uBAAkByD,EAAY,uBAAyB,IAAMd,GAAG,0BAA0Bc,GACzG,2BACEzD,UAAU,2CACV2C,GAAG,YACHlB,KAAK,MACLL,KAAK,aACL6C,YAAY,qGACZM,SA3CkB,SAACT,GACvBqD,EAAYrD,EAAEU,OAAOF,OAChBR,EAAEU,OAAOC,SAASC,MAGrBiC,EAAY,IAFZA,EAAY7C,EAAEU,OAAOG,oBAyCnBL,MAAO4C,GAAY,GACnB7C,UAAQ,IAEV,0BAAMrE,UAAS,uBAAkB0G,EAAW,uBAAyB,IAAM/D,GAAG,0BAA0B+D,KCgH/FW,MAzKf,WAAgB,IAAD,EAC2C/G,IAAM+C,UAAS,GAD1D,mBACNiE,EADM,KACkBC,EADlB,OAEsCjH,IAAM+C,UAAS,GAFrD,mBAENmE,EAFM,KAEeC,EAFf,OAGyCnH,IAAM+C,UAAS,GAHxD,mBAGNqE,EAHM,KAGiBC,EAHjB,OAI4CrH,IAAM+C,UAAS,GAJ3D,mBAINuE,EAJM,KAIiBC,EAJjB,OAK2BvH,IAAM+C,SAAS,CAACyE,IAAK,GAAI3H,IAAK,GAAI4E,QAAQ,IALrE,mBAKNgD,EALM,KAKQC,EALR,OAQyB1H,IAAM+C,SAAS,IARxC,mBAQN1C,EARM,KAQOsH,EARP,OASyB3H,IAAM+C,SAAS,IATxC,mBASNwB,EATM,KASOqD,EATP,OAUa5H,IAAM+C,SAAS,IAV5B,mBAUNhB,EAVM,KAUC8F,EAVD,KAYb7H,IAAMuD,WAAU,WACdgC,QAAQuC,IAAI,CAACpD,EAAWqD,cAAerD,EAAWsD,oBAC/C7C,MAAK,YAA2B,IAAD,mBAAxB8C,EAAwB,KAAdC,EAAc,KAC9BP,EAAeM,GACfJ,EAASK,MAEVC,OAAM,SAAAC,GACLC,QAAQC,IAAR,+CAAsBF,IACtBG,MAAM,mKAET,IAGH,IAqBMC,EAAiB,SAAChF,IAClBA,EAAEU,OAAOuE,UAAUC,SAAS,UAAYlF,EAAEU,OAAOuE,UAAUC,SAAS,0BACtEzB,GAAsB,GACtBI,GAAqB,GACrBF,GAAoB,GACpBI,GAAwB,GACxBG,EAAgB,CAAC/H,IAAK,GAAIE,IAAK,GAAI4E,QAAQ,MAKzCkE,EAAc,SAACC,GACnB,IAAMC,EAAW9G,EAAMC,KAAI,SAAAxB,GAAI,OAAIA,EAAKI,MAAQgI,EAAQhI,IAAMgI,EAAUpI,KACxEqH,EAASgB,IA2EX,OACE,kBAAC9I,EAAmB+I,SAApB,CAA6B9E,MAAO3D,GAClC,yBAAKX,UAAU,QACb,kBAAC,EAAD,MACA,kBAAC,EAAD,CACEkC,mBAlHuB,WAC7BqF,GAAsB,IAkHhBxF,kBA/GsB,WAC5B4F,GAAqB,IA+GfvF,eA5GmB,WACzBqF,GAAoB,IA4GdjG,YApGgB,SAACV,GACvBkH,EAAgB,CAAC/H,IAAKa,EAAKK,KAAMhB,IAAKW,EAAKM,KAAM2D,QAAQ,KAoGnDlD,kBA1GsB,SAACf,GAC7B+G,GAAwB,GACxBK,EAAepH,IAyGTuB,MAAOA,EACPX,WAlFe,SAACZ,GAClBA,EAAKC,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAQP,EAAYO,OAC7C8D,EAAWqE,WAAWvI,EAAKI,KACxBuE,MAAK,SAAAyD,GAAO,OAAID,EAAYC,MAC5BT,OAAM,SAAAC,GACLC,QAAQC,IAAR,+CAAsBF,IACtBG,MAAM,8NAGV7D,EAAWsE,QAAQxI,EAAKI,KACrBuE,MAAK,SAAAyD,GAAO,OAAID,EAAYC,MAC5BT,OAAM,SAAAC,GACLC,QAAQC,IAAR,+CAAsBF,IACtBG,MAAM,iOAuER,kBAAC,EAAD,MAEA,kBAAC,EAAD,CAAkBnG,OAAQ4E,EAAwB1E,QAASkG,EAAgB9E,aArDxD,SAAC5C,EAAMe,GAC9B6C,EAAWuE,eAAenI,EAAMe,GAC7BsD,MAAK,SAAA+D,GACJvB,EAAeuB,GACfjC,GAAsB,MAEvBkB,OAAM,SAAAC,GACLC,QAAQC,IAAR,+CAAsBF,IACtBG,MAAM,+RA8CN,kBAAC,EAAD,CAAenG,OAAQ8E,EAAqB5E,QAASkG,EAAgB1B,iBA5B9C,SAAChG,EAAMD,GAClC6D,EAAWyE,QAAQrI,EAAMD,GACtBsE,MAAK,SAAA3E,GACJqH,EAAS,CAACrH,GAAF,mBAAWuB,KACnBoF,GAAoB,MAErBgB,OAAM,SAAAC,GACLC,QAAQC,IAAR,+CAAsBF,IACtBG,MAAM,+RAsBN,kBAAC,EAAD,CACEzH,KAAK,YACL2B,MAAM,2DACNI,iBAAiB,eACjBT,OAAQkF,EACRhF,QAASkG,EACTjE,YAAaA,EACbhC,SA9EuB,SAAC/B,GAC9BkE,EAAW0E,WAAW5I,EAAKI,KACxBuE,MAAK,WACJ,IAAM0D,EAAW9G,EAAMsH,QAAO,SAAA1I,GAAC,OAAIA,EAAEC,MAAQJ,EAAKI,OAClDiH,EAASgB,GACTtB,GAAwB,MAEzBY,OAAM,SAAAC,GACLb,GAAwB,GACxBc,QAAQC,IAAR,+CAAsBF,IACtBG,MAAM,+RAuEN,kBAAC,EAAD,CAAiBnG,OAAQgF,EAAuB9E,QAASkG,EAAgBjC,eArDpD,SAACT,GAC1BpB,EAAW4E,aAAaxD,GACrBX,MAAK,SAAA+D,GACJvB,EAAeuB,GACf7B,GAAqB,MAEtBc,OAAM,SAAAC,GACLC,QAAQC,IAAR,+CAAsBF,IACtBG,MAAM,+RA8CN,kBAAC,EAAD,CAAY/H,KAAMiH,EAAcnF,QAASkG,OCnK7Be,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBhF,MAAK,SAAAiF,GACJA,EAAaC,gBAEdlC,OAAM,SAAAmC,GACLjC,QAAQiC,MAAMA,EAAMC,a,kBEzI5BC,EAAOC,QAAU,IAA0B,kC,kBCA3CD,EAAOC,QAAU,IAA0B,wC","file":"static/js/main.357fe068.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"логотип сервиса Mesto\" />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nconst Card = React.memo((props) => {\r\n\r\n  const handleCardClick = () => props.onCardClick(props.card);\r\n  const hadleCardLike = () => props.onCardLike(props.card);\r\n  const handleDeleteCard = () => props.onDeleteCardClick(props.card);\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const didUserLiked = props.card.likes.some(x => x._id === currentUser._id);\r\n\r\n  return (\r\n    <figure className=\"card\">\r\n      <img className=\"card__image\" src={props.card.link} alt={props.card.name}/>\r\n      <div className=\"card__shadow-rect\" data-url={props.card.link} data-alt={props.card.name} onClick={handleCardClick} />\r\n      <figcaption className=\"card__caption-content\">\r\n        <p className=\"card__caption\">{props.card.name}</p>\r\n        <div className=\"card__likes-block\">\r\n          <button className={`default-button card__like-button ${didUserLiked ?\r\n            'card__like-button_checked' : ''}`} type=\"button\" onClick={hadleCardLike}/>\r\n          <span className=\"card__likes-counter\">{props.card.likes.length}</span>\r\n        </div>\r\n        <button className={`default-button card__delete-button ${currentUser._id === props.card.owner._id ?\r\n          '' : 'card__delete-button_hidden'}`} type=\"button\" onClick={handleDeleteCard}/>\r\n      </figcaption>\r\n    </figure>\r\n  );\r\n})\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport editAvatarIcon from '../images/edit-icon.svg';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__content\">\r\n          <div className=\"profile__avatar-block\" onClick={props.onEditAvatarClick}>\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар пользователя\" />\r\n            <div className=\"profile__shadow-rect\" />\r\n            <img className=\"profile__edit-icon\" src={editAvatarIcon} alt=\"иконка редактирования аватара\" />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button className=\"default-button profile__edit-button\" type=\"button\" onClick={props.onEditProfileClick} />\r\n            <p className=\"profile__description\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"default-button profile__add-button\" type=\"button\" onClick={props.onAddPlaceLink} />\r\n      </section>\r\n      <section className=\"gallery\">\r\n        {props.cards.map(cardInfo => <Card\r\n          key={cardInfo._id}\r\n          card={cardInfo}\r\n          onCardClick={props.onCardClick}\r\n          onDeleteCardClick={props.onDeleteCardClick}\r\n          onCardLike={props.onCardLike}\r\n        />)}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={props.isOpen ? 'popup popup_opened' : 'popup'} id={`popup-${props.name}`} onClick={props.onClose}>\r\n      <form className=\"popup__container\" onSubmit={props.onSubmit} noValidate>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        {props.children}\r\n        <button\r\n          className={`default-button popup__save-button ${props.submitAvailable ? '' : 'popup__save-button_disabled'}`}\r\n          disabled={!props.submitAvailable}\r\n          type=\"submit\">{props.submitButtonText}\r\n        </button>\r\n        <button className=\"default-button popup__close-button\" type=\"button\" onClick={props.onClose} />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [descriptionError, setDescriptionError] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const handleChangeName = (e) => {\r\n    setName(e.target.value);\r\n    if (!e.target.validity.valid)\r\n      setNameError(e.target.validationMessage)\r\n    else\r\n      setNameError('')\r\n  }\r\n\r\n  const handleChangeDescription = (e) => {\r\n    setDescription(e.target.value);\r\n    if (!e.target.validity.valid)\r\n      setDescriptionError(e.target.validationMessage)\r\n    else\r\n      setDescriptionError('')\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onUserUpdate(name, description)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n    setNameError('');\r\n    setDescriptionError('');\r\n  }, [currentUser, props.isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      submitButtonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      submitAvailable={nameError || descriptionError ? false : true}\r\n      {...props}\r\n    >\r\n      <input\r\n        className=\"popup__item popup__item_type_name\"\r\n        id=\"input-name\"\r\n        type=\"text\"\r\n        name=\"profile-name\"\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\" maxLength=\"40\"\r\n        pattern=\"[A-Za-zА-Яа-яЁё\\s\\-]*\"\r\n        required\r\n        value={name || ''}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className={`popup__error ${nameError ? 'popup__error_visible' : ''}`} id=\"input-name-error\">{nameError}</span>\r\n      <input\r\n        className=\"popup__item popup__item_type_description\"\r\n        id=\"input-description\"\r\n        type=\"text\"\r\n        name=\"profile-description\"\r\n        placeholder=\"О себе\"\r\n        minLength=\"2\" maxLength=\"200\"\r\n        required\r\n        value={description || ''}\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span className={`popup__error ${descriptionError ? 'popup__error_visible' : ''}`} id=\"input-description-error\">{descriptionError}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\n\r\nfunction AgreementPopup(props) {\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onSubmit(props.deletedCard);\r\n  }\r\n\r\n  return (\r\n    <div className={props.isOpen ? 'popup popup_opened' : 'popup'} id={`popup-${props.name}`} onClick={props.onClose}>\r\n      <form className=\"popup__container\" onSubmit={handleSubmit} noValidate>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <button className=\"default-button popup__save-button\" type=\"submit\">{props.submitButtonText}</button>\r\n        <button className=\"default-button popup__close-button\" type=\"button\" onClick={props.onClose} />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AgreementPopup;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={props.card.opened ? 'popup popup_opened' : 'popup'} id=\"popup-image\" onClick={props.onClose}>\r\n      <figure className=\"popup__image-container\">\r\n        <img className=\"popup__image\" src={props.card.src} alt={props.card.alt} />\r\n        <figcaption className=\"popup__image-caption\">{props.card.alt}</figcaption>\r\n        <button className=\"default-button popup__close-button\" type=\"button\" onClick={props.onClose}></button>\r\n      </figure>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  changeUserInfo(name, about) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({name, about})\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  changeAvatar(newUrl) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({avatar: newUrl})\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({name, link})\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status);\r\n      })\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return Promise.resolve()\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  putLike(cardID) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then (res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  deleteLike(cardID) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n}\r\n\r\nconst projectApi = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\r\n  headers: {\r\n    authorization: 'ffe2a54c-a9b3-42ed-8feb-c2a6d6aa9dd2',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default projectApi;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputValue = React.useRef();\r\n  const [urlError, setUrlError] = React.useState('Заполните это поле');\r\n\r\n   const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onAvatarUpdate(inputValue.current.value);\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    if (!e.target.validity.valid)\r\n      setUrlError(e.target.validationMessage)\r\n    else\r\n      setUrlError('')\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setUrlError('Заполните это поле');\r\n    inputValue.current.value = '';\r\n  }, [props.isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar-change\"\r\n      title=\"Обновить аватар\"\r\n      submitButtonText=\"Сохранить\"\r\n      submitAvailable={urlError ? false : true}\r\n      onSubmit={handleSubmit}\r\n      {...props}\r\n    >\r\n      <input\r\n        className=\"popup__item popup__item_type_name\"\r\n        id=\"input-url\"\r\n        type=\"url\"\r\n        name=\"user-avatar\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n        ref={inputValue}\r\n        onChange={handleChange}\r\n      />\r\n      <span className={`popup__error ${urlError ? 'popup__error_visible' : ''}`} id=\"input-url-error\">{urlError}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [placeName, setPlaceName] = React.useState('');\r\n  const [placeUrl, setPlaceUrl] = React.useState('');\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [urlError, setUrlError] = React.useState('');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onAddPlaceSubmit(placeName, placeUrl)\r\n  }\r\n\r\n  const handleChangeName = (e) => {\r\n    setPlaceName(e.target.value);\r\n    if (!e.target.validity.valid)\r\n      setNameError(e.target.validationMessage)\r\n    else\r\n      setNameError('')\r\n  }\r\n\r\n  const handleChangeUrl = (e) => {\r\n    setPlaceUrl(e.target.value)\r\n    if (!e.target.validity.valid)\r\n      setUrlError(e.target.validationMessage)\r\n    else\r\n      setUrlError('')\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setNameError('Заполните это поле');\r\n    setUrlError('Заполните это поле');\r\n    setPlaceName('');\r\n    setPlaceUrl('');\r\n  }, [props.isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-image\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      submitButtonText=\"Создать\"\r\n      submitAvailable={nameError || urlError ? false : true}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"popup__item popup__item_type_name\"\r\n        id=\"input-place-name\"\r\n        type=\"text\"\r\n        name=\"place-name\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\" maxLength=\"30\"\r\n        onChange={handleChangeName}\r\n        value={placeName || ''}\r\n        required\r\n      />\r\n      <span className={`popup__error ${nameError ? 'popup__error_visible' : ''}`} id=\"input-place-name-error\">{nameError}</span>\r\n      <input\r\n        className=\"popup__item popup__item_type_description\"\r\n        id=\"input-url\"\r\n        type=\"url\"\r\n        name=\"place-link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        onChange={handleChangeUrl}\r\n        value={placeUrl || ''}\r\n        required\r\n      />\r\n      <span className={`popup__error ${urlError ? 'popup__error_visible' : ''}`} id=\"input-place-name-error\">{urlError}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport Main from './Main';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport AgreementPopup from './AgreementPopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport projectApi from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setProfilePopupOpened] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setPlacePopupOpened] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setAvatarPopupOpened] = React.useState(false);\r\n  const [isAgreementAvatarOpen, setAgreementPopupOpened] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({img: '', alt: '', opened: false});\r\n\r\n  // установка состояний: Пользователь, удаляемая карточка, массив карточек\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [deletedCard, setDeletedCard] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(()=>{\r\n    Promise.all([projectApi.getUserInfo(), projectApi.getInitialCards()])\r\n      .then(([userInfo, cardsArr]) => {\r\n        setCurrentUser(userInfo);\r\n        setCards(cardsArr);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка ${err}`);\r\n        alert('Ошибка подключения к серверу.')\r\n      })\r\n  }, []\r\n  )\r\n\r\n  const handleEditProfileClick = () => {\r\n    setProfilePopupOpened(true)\r\n  }\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setAvatarPopupOpened(true)\r\n  }\r\n\r\n  const handleAddPlaceLink = () => {\r\n    setPlacePopupOpened(true)\r\n  }\r\n\r\n  const handleDeleteCardClick = (card) => {\r\n    setAgreementPopupOpened(true);\r\n    setDeletedCard(card);\r\n  }\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard({src: card.link, alt: card.name, opened: true})\r\n  }\r\n\r\n  const closeAllPopups = (e) => {\r\n    if (e.target.classList.contains('popup') || e.target.classList.contains('popup__close-button')) {\r\n      setProfilePopupOpened(false);\r\n      setAvatarPopupOpened(false);\r\n      setPlacePopupOpened(false);\r\n      setAgreementPopupOpened(false);\r\n      setSelectedCard({src: '', alt: '', opened: false})\r\n    }\r\n  }\r\n\r\n  //Функция замены карточек в массиве на новую\r\n  const replaceCard = (newCard) => {\r\n    const newCards = cards.map(card => card._id === newCard._id ? newCard : card);\r\n    setCards(newCards);\r\n  }\r\n\r\n  //Обработчик нажатия кнопки \"like\"\r\n  const handleCardLike = (card) => {\r\n    if (card.likes.some(x => x._id === currentUser._id))\r\n      projectApi.deleteLike(card._id)\r\n        .then(newCard => replaceCard(newCard))\r\n        .catch(err => {\r\n          console.log(`Ошибка ${err}`);\r\n          alert('Ошибка сервера. Повторите действие позже');\r\n        })\r\n    else\r\n      projectApi.putLike(card._id)\r\n        .then(newCard => replaceCard(newCard))\r\n        .catch(err => {\r\n          console.log(`Ошибка ${err}`);\r\n          alert('Ошибка сервера. Повторите действие позже');\r\n        })\r\n  }\r\n\r\n  //Обработчик подтверждения удаления карточки\r\n  const handleSubmitCardDelete = (card) => {\r\n    projectApi.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter(x => x._id !== card._id);\r\n        setCards(newCards);\r\n        setAgreementPopupOpened(false);\r\n      })\r\n      .catch(err => {\r\n        setAgreementPopupOpened(false)\r\n        console.log(`Ошибка ${err}`);\r\n        alert('Ошибка сервера. Попробуйте повторить действие позже.');\r\n      })\r\n  }\r\n\r\n  //Обработчик подтверждения изменения информации пользователя\r\n  const handleUpdateUser = (name, about) => {\r\n    projectApi.changeUserInfo(name, about)\r\n      .then(newInfo => {\r\n        setCurrentUser(newInfo);\r\n        setProfilePopupOpened(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка ${err}`);\r\n        alert('Ошибка сервера. Попробуйте повторить действие позже.');\r\n      })\r\n  }\r\n\r\n  //Обработчик изменения аватара\r\n  const handleAvatarUpdate = (newUrl) => {\r\n    projectApi.changeAvatar(newUrl)\r\n      .then(newInfo => {\r\n        setCurrentUser(newInfo);\r\n        setAvatarPopupOpened(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка ${err}`);\r\n        alert('Ошибка сервера. Попробуйте повторить действие позже.');\r\n      })\r\n  }\r\n\r\n  //Обработчик добавления карточки\r\n  const handleAddPlaceSubmit = (name, link) => {\r\n    projectApi.addCard(name, link)\r\n      .then(card => {\r\n        setCards([card, ...cards]);\r\n        setPlacePopupOpened(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка ${err}`);\r\n        alert('Ошибка сервера. Попробуйте повторить действие позже.');\r\n      })\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          onEditProfileClick={handleEditProfileClick}\r\n          onEditAvatarClick={handleEditAvatarClick}\r\n          onAddPlaceLink={handleAddPlaceLink}\r\n          onCardClick={handleCardClick}\r\n          onDeleteCardClick={handleDeleteCardClick}\r\n          cards={cards}\r\n          onCardLike = {handleCardLike}\r\n        />\r\n        <Footer />\r\n\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUserUpdate={handleUpdateUser}/>\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlaceSubmit={handleAddPlaceSubmit}/>\r\n\r\n        <AgreementPopup\r\n          name=\"agreement\"\r\n          title=\"Вы уверены?\"\r\n          submitButtonText=\"Да\"\r\n          isOpen={isAgreementAvatarOpen}\r\n          onClose={closeAllPopups}\r\n          deletedCard={deletedCard}\r\n          onSubmit={handleSubmitCardDelete}\r\n        />\r\n\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onAvatarUpdate={handleAvatarUpdate}/>\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit-icon.34c46850.svg\";"],"sourceRoot":""}